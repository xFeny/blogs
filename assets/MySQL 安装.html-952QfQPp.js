import{_ as l}from"./plugin-vue_export-helper-x3n3nnut.js";import{r,o as t,c as d,a,b as s,d as n,e as i}from"./app-xu5D-Dt8.js";const c={},o=a("h1",{id:"mysql-8-安装",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#mysql-8-安装","aria-hidden":"true"},"#"),s(" MySQL 8 安装")],-1),m=a("h2",{id:"windows-下-解压包安装",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#windows-下-解压包安装","aria-hidden":"true"},"#"),s(" Windows 下 解压包安装")],-1),p={href:"https://blog.csdn.net/weixin_45857665/article/details/127286920",target:"_blank",rel:"noopener noreferrer"},u=i(`<h2 id="centos-下安装" tabindex="-1"><a class="header-anchor" href="#centos-下安装" aria-hidden="true">#</a> Centos 下安装</h2><h3 id="一、安装前" tabindex="-1"><a class="header-anchor" href="#一、安装前" aria-hidden="true">#</a> 一、安装前</h3><p>安装前先清理 mariadb 和 mysql 相关文件</p><p>查询是否安装了mariadb</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> mariadb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="http://oss.feny.ink/blogs/images/202312281955470.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>卸载mariadb</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span> mariadb-libs-5.5.68-1.el7.x86_64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询跟mysql相关的文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">find</span> / <span class="token parameter variable">-name</span> mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="http://oss.feny.ink/blogs/images/202312281957856.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>删除文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/selinux/targeted/active/modules/100/mysql
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /usr/lib64/mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二、下载-mysql" tabindex="-1"><a class="header-anchor" href="#二、下载-mysql" aria-hidden="true">#</a> 二、下载 MySQL</h3>`,14),v={href:"https://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"},b=i(`<p><strong>Select Version</strong> 根据个人选择，<strong>Select Operating System</strong> 选择 <strong>Red Hat Enterprise Linux Oracle Linux</strong> ，<strong>Select OS Version</strong> 根据个人服务器版本选择，CentOS 7 就选择 7 的，CentOS8 就选 8，以此类推。</p><img src="http://oss.feny.ink/blogs/images/202312282000456.png" alt="image-20231228200006400" style="zoom:80%;"><p>然后找到对应安装包，本教程选择 RPM Bundle，点击Download</p><img src="http://oss.feny.ink/blogs/images/202312282035687.png" alt="image-20231228203500646" style="zoom:67%;"><p>复制下载地址</p><img src="http://oss.feny.ink/blogs/images/202312282002439.png" alt="image-20231228200258388" style="zoom:67%;"><p>到 /usr/local 目录下，创建mysql目录，并进入mysql文件夹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local
<span class="token function">mkdir</span> mysql
<span class="token builtin class-name">cd</span> mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输入下载mysql安装包命令回车下载：<strong>wget + 上面右键复制的链接粘贴过来</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.35-1.el7.x86_64.rpm-bundle.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>解压文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-xvf</span> mysql-8.0.35-1.el7.x86_64.rpm-bundle.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="三、安装-mysql" tabindex="-1"><a class="header-anchor" href="#三、安装-mysql" aria-hidden="true">#</a> 三、安装 MySQL</h3><p>解压后的文件列表</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># tar -xvf mysql-8.0.35-1.el7.x86_64.rpm-bundle.tar</span>
mysql-community-client-8.0.35-1.el7.x86_64.rpm
mysql-community-client-plugins-8.0.35-1.el7.x86_64.rpm
mysql-community-common-8.0.35-1.el7.x86_64.rpm
mysql-community-debuginfo-8.0.35-1.el7.x86_64.rpm
mysql-community-devel-8.0.35-1.el7.x86_64.rpm
mysql-community-embedded-compat-8.0.35-1.el7.x86_64.rpm
mysql-community-icu-data-files-8.0.35-1.el7.x86_64.rpm
mysql-community-libs-8.0.35-1.el7.x86_64.rpm
mysql-community-libs-compat-8.0.35-1.el7.x86_64.rpm
mysql-community-server-8.0.35-1.el7.x86_64.rpm
mysql-community-server-debug-8.0.35-1.el7.x86_64.rpm
mysql-community-test-8.0.35-1.el7.x86_64.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>依次执行以下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-common-8.0.35-1.el7.x86_64.rpm <span class="token parameter variable">--nodeps</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-libs-8.0.35-1.el7.x86_64.rpm <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-client-8.0.35-1.el7.x86_64.rpm <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-server-8.0.35-1.el7.x86_64.rpm <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过 <strong>rpm -qa | grep mysql</strong> 命令查看 mysql 的安装包，确认是否全部安装好</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># rpm -qa | grep mysql</span>
mysql-community-server-8.0.35-1.el7.x86_64
mysql-community-common-8.0.35-1.el7.x86_64
mysql-community-client-8.0.35-1.el7.x86_64
mysql-community-libs-8.0.35-1.el7.x86_64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="四、初始化-mysql" tabindex="-1"><a class="header-anchor" href="#四、初始化-mysql" aria-hidden="true">#</a> 四、初始化 MySQL</h3><p>修改 my.cnf 配置，在 [mysqld] 配置节点下添加 <strong>lower-case-table-names=1</strong>，如果想要区分大小写，请忽略。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/my.cnf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="http://oss.feny.ink/blogs/images/202312282057089.png" alt="image-20231228205705043" style="zoom:67%;"><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在 Linux 环境下默认是区分大小写的，如要改变这种默认方式，需要在初始化前修改 <strong>lower_case_table_names</strong>，mysql 8.0 要求我们不能在initialize之后再更改 <strong>lower_case_table_names</strong> 的值，也就是说，再通过更改 my.cnf 文件是不管用的。</p></div><p>在 /var/log 下新建一个 slowsql.log 文件，用来记录慢SQL的日志</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 创建</span>
<span class="token function">touch</span> /var/log/slowsql.log
<span class="token comment"># 赋权限</span>
<span class="token function">chown</span> mysql:mysql /var/log/slowsql.log
<span class="token function">chmod</span> <span class="token number">664</span> /var/log/slowsql.log

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过以下命令，完成对 mysql 数据库的初始化和相关配置</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqld <span class="token parameter variable">--initialize</span>
<span class="token function">chown</span> mysql:mysql /var/lib/mysql <span class="token parameter variable">-R</span>
<span class="token comment"># 启动 mysql 服务</span>
systemctl start mysqld.service
<span class="token comment"># mysql 开机自动启动</span>
systemctl <span class="token builtin class-name">enable</span> mysqld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="五、修改密码" tabindex="-1"><a class="header-anchor" href="#五、修改密码" aria-hidden="true">#</a> 五、修改密码</h3><h4 id="查看数据库的密码" tabindex="-1"><a class="header-anchor" href="#查看数据库的密码" aria-hidden="true">#</a> 查看数据库的密码</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> /var/log/mysqld.log <span class="token operator">|</span> <span class="token function">grep</span> password
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="http://oss.feny.ink/blogs/images/202312282104750.png" alt="image-20231228210457698" style="zoom:80%;"><p>使用查看到的密码登录</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="http://oss.feny.ink/blogs/images/202312282106935.png" alt="image-20231228210644903" style="zoom:80%;"><h4 id="修改密码" tabindex="-1"><a class="header-anchor" href="#修改密码" aria-hidden="true">#</a> 修改密码</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ALTER <span class="token environment constant">USER</span> <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;localhost&#39;</span> IDENTIFIED WITH mysql_native_password BY <span class="token string">&#39;你要设置的密码&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="修改密码重新登录" tabindex="-1"><a class="header-anchor" href="#修改密码重新登录" aria-hidden="true">#</a> 修改密码重新登录</h4><p>通过 exit 命令退出 MySQL，然后通过新密码再次登陆</p><img src="http://oss.feny.ink/blogs/images/202312282111702.png" alt="image-20231228211136661" style="zoom:80%;"><h3 id="六、开放远程访问" tabindex="-1"><a class="header-anchor" href="#六、开放远程访问" aria-hidden="true">#</a> 六、开放远程访问</h3><p>分别执行以下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>create user <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;%&#39;</span> identified with mysql_native_password by <span class="token string">&#39;你要设置的密码&#39;</span><span class="token punctuation">;</span>
grant all privileges on *.* to <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;%&#39;</span> with grant option<span class="token punctuation">;</span>
flush privileges<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="http://oss.feny.ink/blogs/images/202312282114411.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="七、配置防火墙" tabindex="-1"><a class="header-anchor" href="#七、配置防火墙" aria-hidden="true">#</a> 七、配置防火墙</h3><h4 id="开放端口" tabindex="-1"><a class="header-anchor" href="#开放端口" aria-hidden="true">#</a> 开放端口</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">3306</span>/tcp <span class="token parameter variable">--permanent</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="重启防火墙" tabindex="-1"><a class="header-anchor" href="#重启防火墙" aria-hidden="true">#</a> 重启防火墙</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="在navicat上测试连接" tabindex="-1"><a class="header-anchor" href="#在navicat上测试连接" aria-hidden="true">#</a> 在Navicat上测试连接</h4><img src="http://oss.feny.ink/blogs/images/202312282118304.png" alt="image-20231228211827250" style="zoom:50%;"><h3 id="八、其他" tabindex="-1"><a class="header-anchor" href="#八、其他" aria-hidden="true">#</a> 八、其他</h3><p>如果是阿里云服务器，可能还需要在服务器控制台安全组添加相应的端口才行</p><img src="http://oss.feny.ink/blogs/images/202312282137797.png" style="zoom:50%;">`,54);function h(g,y){const e=r("ExternalLinkIcon");return t(),d("div",null,[o,m,a("p",null,[s("安装教程详见："),a("a",p,[s("https://blog.csdn.net/weixin_45857665/article/details/127286920"),n(e)])]),u,a("p",null,[s("选择Community社区免费版，"),a("a",v,[s("下载网址"),n(e)])]),b])}const x=l(c,[["render",h],["__file","MySQL 安装.html.vue"]]);export{x as default};
