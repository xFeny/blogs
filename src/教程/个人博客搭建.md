---
date: 2023-12-25
category:
  - 前端
  - 教程
  - vuepress
tag:
  - 个人博客
  - 前端
  - vuepress
---

# 基于 vuepress-theme-hope 搭建个人博客

## 一、创建项目模板

使用文件管理器打开对应文件夹，然后在上方的地址栏中输入 `cmd` 并按下回车。

<img src="http://oss.feny.ink/images/202312291251097.png" alt="image-20231229125148053" style="zoom:80%;" /> 

在终端中执行下列命令:

```sh
npm init vuepress-theme-hope my-docs
```

这里的 `my-docs` 是一个参数，代表 VuePress Theme Hope 项目的文件夹名称。

执行完命令后根据提示，通过键盘 `↓` 选择 `简体中文` 并回车来按需选择：

<img src="http://oss.feny.ink/images/202312291302153.png" alt="image-20231229130212097" style="zoom:80%;" /> 

### 项目命令

```sh
# 启动开发服务器
npm docs:dev
# 构建项目并输出
npm docs:build
# 清除缓存并启动开发服务器
npm docs:clean-dev
```

启动项目，浏览器输入 <http://localhost:8080/> 查看效果

![](http://oss.feny.ink/images/202312291306333.png) 

### 目录结构

```
.
├── .github (可选的) → GitHub 配置文件存放路径
│    └── workflow → GitHub 工作流配置
│         └── docs-deploy.yml → 自动部署文档的工作流
│
├── src → 文档文件夹
│    │
│    ├── .vuepress (可选的) → VuePress 配置文件夹
│    │    │
│    │    ├── dist (默认的) → 构建输出目录
│    │    │
│    │    ├── public (可选的) → 静态资源目录
│    │    │
│    │    ├── styles (可选的) → 用于存放样式相关的文件
│    │    │
│    │    ├── config.{js,ts} (可选的) → 配置文件的入口文件
│    │    │
│    │    └── client.{js,ts} (可选的) → 客户端文件
│    │
│    ├── ... → 其他项目文档
│    │
│    └── README.md → 项目主页
│
└── package.json → Nodejs 配置文件
```

## 二、配置项目

### 1、修改端口

项目默认启动端口为`8080`，如果想要修改为其他端口，在`.vuepress/config.ts`增加`port`即可：

```ts
// .vuepress/config.ts
export default defineUserConfig({
  port: 8099, //端口号
});
```

重新启动项目：

![](http://oss.feny.ink/images/202312291358101.png) 

### 2、首页图片全屏设置

如果不想首页图片全屏,，打开`README.md`找到heroFullScreen修改为fasle

```markdown
heroFullScreen: false
```

效果：

![](http://oss.feny.ink/images/202312291325811.png) 

### 3、首页项目设置

初始化是会默认生成以下内容，如果要修改为自己的项目要怎么修改呢。

<img src="http://oss.feny.ink/images/202312291327029.png" style="zoom:50%;" /> 

打开`README.md`，找到`projects`，编辑成你要的内容即可。

```markdown
projects:
  - icon: project
    name: 项目名称
    desc: 项目详细描述
    link: https://你的项目链接

  - icon: link
    name: 链接名称
    desc: 链接详细描述
    link: https://链接地址

  - icon: book
    name: 书籍名称
    desc: 书籍详细描述
    link: https://你的书籍链接

  - icon: article
    name: 文章名称
    desc: 文章详细描述
    link: https://你的文章链接

  - icon: friend
    name: 伙伴名称
    desc: 伙伴详细介绍
    link: https://你的伙伴链接

  - icon: /logo.svg
    name: 自定义项目
    desc: 自定义详细介绍
    link: https://你的自定义链接
```

如果不想显示，直接把`projects`的内容全部删除即可，效果如图：

<img src="http://oss.feny.ink/images/202312291331487.png" alt="image-20231229133154957" style="zoom: 33%;" />  



## 三、主题色

### 1、设置默认主题色

你应该在 `.vuepress/styles/palette.scss` 中通过 `$theme-color` 设置站点的默认主题颜色：

```scss
$theme-color: #f00;
```

修改前连接颜色：

<img src="http://oss.feny.ink/images/202312291336474.png" alt="image-20231229133624419" style="zoom:50%;" /> 

修改后连接颜色：

<img src="http://oss.feny.ink/images/202312291337589.png" alt="image-20231229133730548" style="zoom:50%;" /> 

### 2、主题色选择器

如果想过多个主题色切换选择，在 `.vuepress/styles/config.scss` 中通过 `$theme-colors` 设置一系列你想要启用的其他主题色：

```scss
$theme-colors: #2196f3, #f26d6d, #3eaf7c, #fb9b5f;
```

在右上角可以切换主题色：

<img src="http://oss.feny.ink/images/202312291340093.png" alt="image-20231229134018038" style="zoom:50%;" /> 

## 四、搜索功能

vuepress-theme-hope对 [`vuepress-plugin-search-pro`](https://plugin-search-pro.vuejs.press/zh/)、 [`@vuepress/plugin-docsearch`open in new window](https://vuejs.press/zh/reference/plugin/docsearch.html) 和 [`@vuepress/plugin-search`open in new window](https://vuejs.press/zh/reference/plugin/search.html) 提供了内置支持。只需要添加并配置所需的搜索插件，就能够在导航栏获得一个搜索框。

### 使用 `vuepress-plugin-search-pro`

1、安装 `vuepress-plugin-search-pro`

```sh
npm i -D vuepress-plugin-search-pro
```

2、从 `vuepress-plugin-search-pro` 导入 `searchProPlugin` 并将其应用至 `config.{ts,js}` 下的 `plugins` 选项.

```ts
// .vuepress/config.ts
import { defineUserConfig } from "vuepress";
import { searchProPlugin } from "vuepress-plugin-search-pro";

export default defineUserConfig({
  plugins: [
    searchProPlugin({
      // 索引全部内容
      indexContent: true,
      // 为分类和标签添加索引
      customFields: [
        {
          getter: (page) => page.frontmatter.category as any,
          formatter: "分类：$content",
        },
        {
          getter: (page) => page.frontmatter.tag as any,
          formatter: "标签：$content",
        },
      ],
    }),
  ],
});
```

效果：

<img src="http://oss.feny.ink/images/202312291412293.png" style="zoom:50%;" /> 

::: info 更多
关于搜索插件的可用选项，详见 [插件文档](https://plugin-search-pro.vuejs.press/zh/)。
:::

### 使用 `@vuepress/plugin-search`

安装 `@vuepress/plugin-search`

```sh
npm i -D @vuepress/plugin-search@next
```

从 `@vuepress/plugin-search` 导入 `searchPlugin` 并将其应用至 `config.{ts,js}` 下的 `plugins` 选项.

```ts
// .vuepress/config.ts
import { defineUserConfig } from "vuepress";
import { searchPlugin } from "@vuepress/plugin-search";

export default defineUserConfig({
  plugins: [
    searchPlugin({
      // 你的选项
    }),
  ],
});
```

效果：

<img src="http://oss.feny.ink/images/202312291408028.png" style="zoom:50%;" /> 

::: info 更多
关于搜索插件的可用选项，详见 [插件文档](https://vuejs.press/zh/reference/plugin/search.html)。
:::

## 五、导航栏

### 1、导航栏链接

在开始之前你需要明确，你的导航栏需求是啥样的。

导航栏的相关设置在 `.vuepress/navbar.ts`文件中。

默认为字符串，对应 `src `目录下的文件路径，你可以省略` .md`扩展名，以 / 结尾的路径会被推断为` /README.md`。

例如：

```ts
import { navbar } from "vuepress-theme-hope";

export default navbar([
  "/", // 对应首页，即src/README.md
  '/react/', // 对应src/react/README.md
]);
```

也可以是对象，基本格式如下：

```ts
import { navbar } from "vuepress-theme-hope";

export default navbar([
  {
    text: "博文",
    icon: "pen-to-square",
    prefix: "/posts/", // 对应 src/posts 目录
    children: [
      {
        text: "苹果",
        icon: "pen-to-square",
        prefix: "apple/", // 对应 src/posts/apple 目录
        children: [
          { text: "苹果1", icon: "pen-to-square", link: "1" },
          { text: "苹果2", icon: "pen-to-square", link: "2" },
          "3",
          "4",
        ],
      },
      "tomato",
      "strawberry",
    ],
  },
  {
    text: "V2 文档",
    icon: "book",
    link: "https://theme-hope.vuejs.press/zh/", // link代码外链地址
  },
]);
```

假如我要修改成这样效果的导航栏：

<img src="http://oss.feny.ink/images/202312291425943.png" style="zoom:50%;" /> 

具体配置如下：

```ts
// .vuepress/navbar.ts
import { navbar } from "vuepress-theme-hope";

export default navbar([
  {
    text: "快速上手",
    link: "/get-started/",
  },
  {
    text: "指南",
    link: "/guide/",
  },
  {
    text: "配置",
    link: "/config/",
  },
  {
    text: "常见问题",
    link: "/faq/",
  },
  {
    text: "案例",
    link: "/demo/",
  },
  {
    text: "项目",
    children: [
      {
        text: "教程",
        children: [
          { text: "Markdown 介绍", link: "/Markdown 介绍" },
          { text: "Vuepress", link: "/Vuepress" },
        ],
      },
      {
        text: "项目",
        children: [
          { text: "变更日志", link: "/变更日志" },
          { text: "迁移指南", link: "/迁移指南" },
        ],
      },
    ],
  },
]);
```

### 2、禁用导航栏

你可以在主题选项中设置 `navbar: false` 来禁用所有页面的导航栏：

```ts
// .vuepress/config.ts
import { defineUserConfig } from "vuepress";
import { hopeTheme } from "vuepress-theme-hope";

export default defineUserConfig({
  theme: hopeTheme({
    navbar: false,
  }),
});
```

假如你不想某个Markdown页面显示导航栏，你也可以通过 `YAML front matter` 来禁用某个指定页面的导航栏：

```md
---
navbar: false
---
```



::: info 更多

关于导航栏的介绍，详见[导航栏文档](https://theme-hope.vuejs.press/zh/guide/layout/navbar.html)

:::

## 六、侧边栏

#### 1、全局侧边栏配置

你可以设置侧边栏导航和导航栏的路由一一对应，这样就相当于是全局的侧边栏.。

对于侧边栏的具体条目，可以通过设置`children: "structure"`根据当前目录下的文件名称自动生成。

```ts
// .vuepress/sidebar.ts
import { sidebar } from "vuepress-theme-hope";

export default sidebar({
  "/": [
    {
      text: "快速上手",
      prefix: "get-started/",
      children: "structure",
    },
    {
      text: "指南",
      prefix: "guide/",
      children: "structure",
    },
    {
      text: "配置",
      prefix: "config/",
      children: "structure",
    },
    {
      text: "常见问题",
      prefix: "faq/",
      children: "structure",
    },
    {
      text: "案例",
      prefix: "demo/",
      children: "structure",
    },
    {
      text: "项目",
      children: [
        {
          text: "教程",
          children: [
            { text: "Markdown 介绍", link: "Markdown 介绍" },
            { text: "Vuepress", link: "Vuepress" },
          ],
        },
        {
          text: "项目",
          children: [
            { text: "变更日志", link: "变更日志.md" },
            { text: "迁移指南", link: "迁移指南.md" },
          ],
        },
      ],
    },
  ],
});
```

还有另外一种方法就是把`theme.ts`中的`sidebar`注释掉，vuepress-theme-hope 会自动根据文件夹生成默认的全局侧边栏配置。

```ts
// .vuepress/theme.ts
export default hopeTheme({
  // 注释掉，会自动生成全局侧边栏配置
  // sidebar
});
```

#### 2、分离式侧边栏

分离式菜单配置更简洁，如下所示：当设置`structure`时，默认根据目录下的文件自动生成侧边栏。

```ts
import { sidebar } from "vuepress-theme-hope";

export default sidebar({
  "/get-started/": "structure",
  "/guide/": "structure",
  "/config/": "structure",
  "/faq/": "structure",
  "/demo/": "structure",
});
```

::: info 更多

关于侧边栏的介绍，详见[侧边栏文档](https://theme-hope.vuejs.press/zh/guide/layout/sidebar.html)

:::

## 七、自动部署

首先登录 [GitHub](https://github.com/) 创建一个空的仓库。

<img src="http://oss.feny.ink/images/202312291533090.png" alt="image-20231229153338022" style="zoom:50%;" /> 

仓库名填写自己喜欢的，点击`Create repository`。

